<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>farmhand.handler documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Farmhand</span> <span class="project-version">0.9.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>farmhand</span></div></div></li><li class="depth-2 branch"><a href="farmhand.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="farmhand.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch current"><a href="farmhand.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-2 branch"><a href="farmhand.jobs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jobs</span></div></a></li><li class="depth-2 branch"><a href="farmhand.queue.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>queue</span></div></a></li><li class="depth-2 branch"><a href="farmhand.redis.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>redis</span></div></a></li><li class="depth-2 branch"><a href="farmhand.registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registry</span></div></a></li><li class="depth-2 branch"><a href="farmhand.retry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>retry</span></div></a></li><li class="depth-2 branch"><a href="farmhand.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2"><a href="farmhand.work.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>work</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="farmhand.handler.html#var-default-handler"><div class="inner"><span>default-handler</span></div></a></li><li class="depth-1"><a href="farmhand.handler.html#var-execute-job"><div class="inner"><span>execute-job</span></div></a></li><li class="depth-1"><a href="farmhand.handler.html#var-wrap-outer"><div class="inner"><span>wrap-outer</span></div></a></li><li class="depth-1"><a href="farmhand.handler.html#var-wrap-retry"><div class="inner"><span>wrap-retry</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">farmhand.handler</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-default-handler"><h3>default-handler</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-execute-job"><h3>execute-job</h3><div class="usage"><code>(execute-job {{fn-var :fn-var, args :args, job-id :job-id} :job, :as request})</code></div><div class="doc"><pre class="plaintext">Executes the job's function with the defined arguments.
</pre></div></div><div class="public anchor" id="var-wrap-outer"><h3>wrap-outer</h3><div class="usage"><code>(wrap-outer handler)</code></div><div class="doc"><pre class="plaintext">Middleware which performs the basics of the job flow. It marks the job as in
progress, fetches the body of the job from Redis, and executes the given
handler. Then handles the response by either marking the job as failed or
completed.

If the response map contains a truthy value for the :handled? key, then the
job will not be marked as either failed or success. It assumes some other
middleware took care of that.</pre></div></div><div class="public anchor" id="var-wrap-retry"><h3>wrap-retry</h3><div class="usage"><code>(wrap-retry handler)</code></div><div class="doc"><pre class="plaintext">Middleware for automatically scheduling jobs to be retried.
</pre></div></div></div></body></html>